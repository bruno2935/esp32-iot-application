ÔøΩÔøΩAÔøΩ]ÔøΩÔøΩÔøΩÔøΩ1ÔøΩÔøΩ:ÔøΩÔøΩÔøΩ7CaÔøΩÔøΩWÔøΩÔøΩe ÔøΩu]ÔøΩÔøΩÔøΩ}ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ:ÔøΩÔøΩ3BÔøΩÔøΩÔøΩÔøΩÔøΩe1ÔøΩ
ÔøΩ=ÔøΩTÔøΩ#ÔøΩÔøΩÔøΩVÔøΩÔøΩÔøΩÔøΩ bÔøΩ*ÔøΩ›ê'ÔøΩÔøΩÔøΩ#ÔøΩÔøΩÔøΩÔøΩ'ÔøΩAÔøΩ)ÔøΩdÔøΩÔøΩxÔøΩÔøΩdEÔøΩÔøΩÔøΩÔøΩÔøΩiÔøΩÔøΩÔøΩ'ÔøΩaÔøΩÔøΩÔøΩ_ÔøΩ.ÔøΩ¬∏ÔøΩÔøΩwÔøΩ%ÔøΩvÔøΩÔøΩa0ÔøΩÔøΩÔøΩ—µ'TÔøΩqÔøΩ,ÔøΩÕ´ÔøΩÔøΩvÔøΩÔøΩHlÔøΩ(ÔøΩÔøΩÔøΩ&ÔøΩÔøΩÔøΩÔøΩÔøΩ9KÔøΩÔøΩ&FHÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩAÔøΩ&ÔøΩÔøΩÔøΩ[ÔøΩÔøΩÔøΩÔøΩdÔøΩÔøΩa0ÔøΩÔøΩ0ÔøΩÔøΩÔøΩnÔøΩLÔøΩÔøΩÔøΩ!ÔøΩÔøΩÔøΩÔøΩQÔøΩÔøΩ0ÔøΩÔøΩ,[ÔøΩÔøΩSHÔøΩÔøΩA8ÔøΩWÔøΩlÔøΩÔøΩ›ø[ÔøΩÔøΩÔøΩÔøΩ:ÔøΩÔøΩ0¬∞ÔøΩÔøΩkÔøΩ:ÔøΩÔøΩ4C!ÔøΩÔøΩ…πÔøΩxÔøΩÔøΩ0ÔøΩÔøΩ*
[0;32mI (31) boot: ESP-IDF v5.2-dev-2317-g3247253671 2nd stage bootloader[0m
[0;32mI (31) boot: compile time Aug 22 2023 17:13:31[0m
[0;32mI (33) boot: Multicore bootloader[0m
[0;32mI (37) boot: chip revision: v1.0[0m
[0;32mI (41) boot.esp32: SPI Speed      : 40MHz[0m
[0;32mI (46) boot.esp32: SPI Mode       : DIO[0m
[0;32mI (50) boot.esp32: SPI Flash Size : 4MB[0m
[0;32mI (55) boot: Enabling RNG early entropy source...[0m
[0;32mI (60) boot: Partition Table:[0m
[0;32mI (64) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (71) boot:  0 nvs              WiFi data        01 02 00009000 00004000[0m
[0;32mI (78) boot:  1 otadata          OTA data         01 00 0000d000 00002000[0m
[0;32mI (86) boot:  2 phy_init         RF data          01 01 0000f000 00001000[0m
[0;32mI (93) boot:  3 ota_0            OTA app          00 10 00010000 001f0000[0m
[0;32mI (101) boot:  4 ota_1            OTA app          00 11 00200000 001f0000[0m
[0;32mI (108) boot: End of partition table[0m
[0;32mI (113) boot: No factory image, trying OTA 0[0m
[0;32mI (118) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=79cd0h (498896) map[0m
[0;32mI (306) esp_image: segment 1: paddr=00089cf8 vaddr=3ffb0000 size=0388ch ( 14476) load[0m
[0;32mI (312) esp_image: segment 2: paddr=0008d58c vaddr=40080000 size=02a8ch ( 10892) load[0m
[0;32mI (317) esp_image: segment 3: paddr=00090020 vaddr=400d0020 size=aaf58h (700248) map[0m
[0;32mI (573) esp_image: segment 4: paddr=0013af80 vaddr=40082a8c size=13404h ( 78852) load[0m
[0;32mI (617) boot: Loaded app from partition at offset 0x10000[0m
[0;32mI (678) boot: Set actual ota_seq=1 in otadata[0][0m
[0;32mI (678) boot: Disabling RNG early entropy source...[0m
[0;32mI (689) cpu_start: Multicore app[0m
[0;32mI (690) cpu_start: Pro cpu up.[0m
[0;32mI (690) cpu_start: Starting app cpu, entry point is 0x400811f8[0m
[0;32mI (0) cpu_start: App cpu up.[0m
[0;32mI (707) cpu_start: Pro cpu start user code[0m
[0;32mI (707) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (708) cpu_start: Application information:[0m
[0;32mI (712) cpu_start: Project name:     esp32-iot-application[0m
[0;32mI (718) cpu_start: App version:      b3c1a90-dirty[0m
[0;32mI (724) cpu_start: Compile time:     Aug 26 2023 15:08:06[0m
[0;32mI (730) cpu_start: ELF file SHA256:  e983dc16b...[0m
[0;32mI (735) cpu_start: ESP-IDF:          v5.2-dev-2317-g3247253671[0m
[0;32mI (742) cpu_start: Min chip rev:     v0.0[0m
[0;32mI (747) cpu_start: Max chip rev:     v3.99 [0m
[0;32mI (751) cpu_start: Chip rev:         v1.0[0m
[0;32mI (756) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (763) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (769) heap_init: At 3FFB8B50 len 000274B0 (157 KiB): DRAM[0m
[0;32mI (776) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (782) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (788) heap_init: At 40095E90 len 0000A170 (40 KiB): IRAM[0m
[0;32mI (796) spi_flash: detected chip: generic[0m
[0;32mI (799) spi_flash: flash io: dio[0m
[0;33mW (803) ADC: legacy driver is deprecated, please migrate to `esp_adc/adc_oneshot.h`[0m
[0;32mI (812) app_start: Starting scheduler on CPU0[0m
[0;32mI (817) app_start: Starting scheduler on CPU1[0m
[0;32mI (817) main_task: Started on CPU0[0m
[0;32mI (827) main_task: Calling app_main()[0m
[0;32mI (837) wifi_app: STARTING WIFI APPLICATION[0m
[0;32mI (847) main_task: Returned from app_main()[0m
ADC Vref calibration data is not burned into eFuse.
Starting NTC103 task

=== Reading NTC103 ===
Temp -273.1
[0;32mI (857) wifi_init: rx ba win: 6[0m
[0;32mI (857) wifi_init: tcpip mbox: 32[0m
[0;32mI (857) wifi_init: udp mbox: 6[0m
[0;32mI (867) wifi_init: tcp mbox: 6[0m
[0;32mI (867) wifi_init: tcp tx win: 5744[0m
[0;32mI (877) wifi_init: tcp rx win: 5744[0m
[0;32mI (877) wifi_init: tcp mss: 1440[0m
[0;32mI (877) wifi_init: WiFi IRAM OP enabled[0m
[0;32mI (887) wifi_init: WiFi RX IRAM OP enabled[0m
[0;32mI (2057) phy_init: phy_version 4771,450c73b,Aug 16 2023,11:03:10[0m
[0;32mI (2137) wifi_app: WIFI_EVENT_STA_START[0m
[0;32mI (2147) wifi_app: WIFI_APP_MSG_LOAD_SAVED_CREDENTIALS[0m
[0;32mI (2147) nvs: app_nvs_load_sta_creds: Loading Wifi credentials from flash[0m
[0;32mI (2147) wifi_app: WIFI_EVENT_AP_START[0m
[0;32mI (2157) esp_netif_lwip: DHCP server started on interface WIFI_AP_DEF with IP: 192.168.1.1[0m
app_nvs_load_sta_creds: SSID: Ferreiro Password: 939454321
[0;32mI (2167) wifi_app: Loaded station configuration[0m
[0;32mI (2177) wifi_app: WIFI_APP_MSG_START_HTTP_SERVER[0m
[0;32mI (2177) http_server: http_server_configure: Starting server on port: '80' with task priority: '4'[0m
[0;32mI (3347) http_server: http_server_configure: Registering URI handlers[0m
[0;32mI (3367) wifi_app: WIFI_EVENT_STA_CONNECTED[0m
[0;32mI (4367) wifi_app: IP_EVENT_STA_GOT_IP[0m
[0;32mI (4367) esp_netif_handlers: sta ip: 192.168.1.79, mask: 255.255.255.0, gw: 192.168.1.1[0m
[0;32mI (4367) wifi_app: WIFI_APP_MSG_STA_CONNECT_GOT_IP[0m
[0;32mI (4367) main: Wifi application connected!![0m
[0;32mI (4377) http_server: HTTP_MSG_WIFI_CONNECT_SUCCESS[0m
[0;32mI (4377) sntp_time_sync: Initializing the SNTP service[0m
[0;32mI (4387) http_server: HTTP_MSG_TIME_SERVICE_INITIALIZED[0m
[0;32mI (4387) coreMQTT: Establishing a TLS session to a3v8wtvg6mnton-ats.iot.sa-east-1.amazonaws.com:8883.[0m
=== Reading NTC103 ===
Temp -273.1
[0;32mI (5907) coreMQTT: MQTT connection established with the broker.[0m
[0;32mI (5907) coreMQTT: MQTT connection successfully established with broker.[0m
[0;32mI (5907) coreMQTT: An MQTT session with broker is re-established. Resending unacked publishes.[0m
[0;32mI (5917) coreMQTT: 
/*-----------------------------------------------------------*/

The Jobs demo is now ready to accept Jobs.
Jobs may be created using the AWS IoT console or AWS CLI.
See the following link for more information.
[0m
[0;32mI (5937) coreMQTT: https://docs.aws.amazon.com/cli/latest/reference/iot/create-job.html

This demo expects Job documents to have an "action" JSON key.
The following actions are currently supported:
[0m
[0;32mI (5967) coreMQTT:  - print          
   Logs a message to the local console. The Job document must also contain a "message".
   For example: { "action": "print", "message": "Hello world!"} will cause
   "Hello world!" to be printed on the console.
[0m
[0;32mI (5977) coreMQTT:  - publish        
   Publishes a message to an MQTT topic. The Job document must also contain a "message" and "topic".
[0m
[0;32mI (6007) coreMQTT:    For example: { "action": "publish", "topic": "demo/jobs", "message": "Hello world!"} will cause
   "Hello world!" to be published to the topic "demo/jobs".
[0m
[0;32mI (6007) coreMQTT:  - exit           
   Exits the demo program. This program will run until { "action": "exit" } is received.

/*-----------------------------------------------------------*/
[0m
[0;32mI (6057) coreMQTT: SUBSCRIBE topic jobs/notify-next to broker.[0m
[0;31mE (6117) coreMQTT: Call to receiveSingleIteration failed. Status=MQTTRecvFailed[0m
[0;31mE (6117) coreMQTT: MQTT_ProcessLoop failed to receive ACK packet: Expected ACK Packet ID=00000001, LoopDuration=53, Status=MQTTRecvFailed[0m
[0;32mI (6147) coreMQTT: SUBSCRIBE topic $aws/things/ESP32_Iot_Test/jobs/notify-next to broker.[0m
[0;31mE (6157) coreMQTT: Call to receiveSingleIteration failed. Status=MQTTRecvFailed[0m
[0;31mE (6157) coreMQTT: MQTT_ProcessLoop failed to receive ACK packet: Expected ACK Packet ID=00000002, LoopDuration=10, Status=MQTTRecvFailed[0m
[0;31mE (6167) coreMQTT: Failed to subscribe to NextJobExecutionChanged API of AWS IoT Jobs service: Topic=$aws/things/ESP32_Iot_Test/jobs/notify-next[0m
[0;33mW (6187) coreMQTT: Demo iteration 1 failed. Retrying...[0m
[0;32mI (6197) coreMQTT: UNSUBSCRIBE sent topic $aws/things/ESP32_Iot_Test/jobs/notify-next to broker.[0m
[0;31mE (6197) esp-tls-mbedtls: read error :-0x004C:[0m
[0;31mE (6207) coreMQTT: Call to receiveSingleIteration failed. Status=MQTTRecvFailed[0m
[0;31mE (6227) coreMQTT: MQTT_ProcessLoop failed to receive ACK packet: Expected ACK Packet ID=00000003, LoopDuration=21, Status=MQTTRecvFailed[0m
[0;31mE (6227) coreMQTT: Failed to unsubscribe from the NextJobExecutionChanged API of AWS IoT Jobs service: Topic=$aws/things/ESP32_Iot_Test/jobs/notify-next[0m
[0;32mI (6257) coreMQTT: Disconnected from the broker.[0m
[0;32mI (6267) coreMQTT: A short delay before the next demo iteration.[0m
=== Reading NTC103 ===
Temp -273.1
[0;32mI (11277) coreMQTT: Establishing a TLS session to a3v8wtvg6mnton-ats.iot.sa-east-1.amazonaws.com:8883.[0m
[0;32mI (12717) coreMQTT: MQTT connection established with the broker.[0m
[0;32mI (12717) coreMQTT: MQTT connection successfully established with broker.[0m
[0;32mI (12717) coreMQTT: An MQTT session with broker is re-established. Resending unacked publishes.[0m
[0;32mI (12737) coreMQTT: 
/*-----------------------------------------------------------*/

The Jobs demo is now ready to accept Jobs.
Jobs may be created using the AWS IoT console or AWS CLI.
See the following link for more information.
[0m
[0;32mI (12757) coreMQTT: https://docs.aws.amazon.com/cli/latest/reference/iot/create-job.html

This demo expects Job documents to have an "action" JSON key.
The following actions are currently supported:
[0m
[0;32mI (12777) coreMQTT:  - print          
   Logs a message to the local console. The Job document must also contain a "message".
   For example: { "action": "print", "message": "Hello world!"} will cause
   "Hello world!" to be printed on the console.
[0m
[0;32mI (12797) coreMQTT:  - publish        
   Publishes a message to an MQTT topic. The Job document must also contain a "message" and "topic".
[0m
[0;32mI (12807) coreMQTT:    For example: { "action": "publish", "topic": "demo/jobs", "message": "Hello world!"} will cause
   "Hello world!" to be published to the topic "demo/jobs".
[0m
[0;32mI (12827) coreMQTT:  - exit           
   Exits the demo program. This program will run until { "action": "exit" } is received.

/*-----------------------------------------------------------*/
[0m
[0;32mI (12867) coreMQTT: SUBSCRIBE topic jobs/notify-next to broker.[0m
[0;31mE (12897) coreMQTT: Call to receiveSingleIteration failed. Status=MQTTRecvFailed[0m
[0;31mE (12897) coreMQTT: MQTT_ProcessLoop failed to receive ACK packet: Expected ACK Packet ID=00000001, LoopDuration=36, Status=MQTTRecvFailed[0m
[0;32mI (12947) coreMQTT: SUBSCRIBE topic $aws/things/ESP32_Iot_Test/jobs/notify-next to broker.[0m
[0;31mE (12957) coreMQTT: Call to receiveSingleIteration failed. Status=MQTTRecvFailed[0m
[0;31mE (12957) coreMQTT: MQTT_ProcessLoop failed to receive ACK packet: Expected ACK Packet ID=00000002, LoopDuration=10, Status=MQTTRecvFailed[0m
[0;31mE (12967) coreMQTT: Failed to subscribe to NextJobExecutionChanged API of AWS IoT Jobs service: Topic=$aws/things/ESP32_Iot_Test/jobs/notify-next[0m
[0;33mW (12977) coreMQTT: Demo iteration 2 failed. Retrying...[0m
[0;32mI (12997) coreMQTT: UNSUBSCRIBE sent topic $aws/things/ESP32_Iot_Test/jobs/notify-next to broker.[0m
[0;31mE (12997) esp-tls-mbedtls: read error :-0x004C:[0m
[0;31mE (13017) coreMQTT: Call to receiveSingleIteration failed. Status=MQTTRecvFailed[0m
[0;31mE (13017) coreMQTT: MQTT_ProcessLoop failed to receive ACK packet: Expected ACK Packet ID=00000003, LoopDuration=13, Status=MQTTRecvFailed[0m
[0;31mE (13027) coreMQTT: Failed to unsubscribe from the NextJobExecutionChanged API of AWS IoT Jobs service: Topic=$aws/things/ESP32_Iot_Test/jobs/notify-next[0m
[0;32mI (13057) coreMQTT: Disconnected from the broker.[0m
[0;32mI (13077) coreMQTT: A short delay before the next demo iteration.[0m
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
[0;32mI (18077) coreMQTT: Establishing a TLS session to a3v8wtvg6mnton-ats.iot.sa-east-1.amazonaws.com:8883.[0m
[0;32mI (20227) coreMQTT: MQTT connection established with the broker.[0m
[0;32mI (20227) coreMQTT: MQTT connection successfully established with broker.[0m
[0;32mI (20247) coreMQTT: An MQTT session with broker is re-established. Resending unacked publishes.[0m
[0;32mI (20247) coreMQTT: 
/*-----------------------------------------------------------*/

The Jobs demo is now ready to accept Jobs.
Jobs may be created using the AWS IoT console or AWS CLI.
See the following link for more information.
[0m
[0;32mI (20267) coreMQTT: https://docs.aws.amazon.com/cli/latest/reference/iot/create-job.html

This demo expects Job documents to have an "action" JSON key.
The following actions are currently supported:
[0m
[0;32mI (20287) coreMQTT:  - print          
   Logs a message to the local console. The Job document must also contain a "message".
   For example: { "action": "print", "message": "Hello world!"} will cause
   "Hello world!" to be printed on the console.
[0m
[0;32mI (20307) coreMQTT:  - publish        
   Publishes a message to an MQTT topic. The Job document must also contain a "message" and "topic".
[0m
[0;32mI (20327) coreMQTT:    For example: { "action": "publish", "topic": "demo/jobs", "message": "Hello world!"} will cause
   "Hello world!" to be published to the topic "demo/jobs".
[0m
[0;32mI (20347) coreMQTT:  - exit           
   Exits the demo program. This program will run until { "action": "exit" } is received.

/*-----------------------------------------------------------*/
[0m
[0;32mI (20397) coreMQTT: SUBSCRIBE topic jobs/notify-next to broker.[0m
[0;31mE (20437) coreMQTT: Call to receiveSingleIteration failed. Status=MQTTRecvFailed[0m
[0;31mE (20447) coreMQTT: MQTT_ProcessLoop failed to receive ACK packet: Expected ACK Packet ID=00000001, LoopDuration=43, Status=MQTTRecvFailed[0m
[0;32mI (20477) coreMQTT: SUBSCRIBE topic $aws/things/ESP32_Iot_Test/jobs/notify-next to broker.[0m
[0;31mE (20487) coreMQTT: Call to receiveSingleIteration failed. Status=MQTTRecvFailed[0m
[0;31mE (20487) coreMQTT: MQTT_ProcessLoop failed to receive ACK packet: Expected ACK Packet ID=00000002, LoopDuration=5, Status=MQTTRecvFailed[0m
[0;31mE (20497) coreMQTT: Failed to subscribe to NextJobExecutionChanged API of AWS IoT Jobs service: Topic=$aws/things/ESP32_Iot_Test/jobs/notify-next[0m
[0;31mE (20517) coreMQTT: All 3 demo iterations failed.[0m
[0;32mI (20537) coreMQTT: UNSUBSCRIBE sent topic $aws/things/ESP32_Iot_Test/jobs/notify-next to broker.[0m
[0;31mE (20537) esp-tls-mbedtls: read error :-0x004C:[0m
[0;31mE (20537) coreMQTT: Call to receiveSingleIteration failed. Status=MQTTRecvFailed[0m
[0;31mE (20547) coreMQTT: MQTT_ProcessLoop failed to receive ACK packet: Expected ACK Packet ID=00000003, LoopDuration=12, Status=MQTTRecvFailed[0m
[0;31mE (20557) coreMQTT: Failed to unsubscribe from the NextJobExecutionChanged API of AWS IoT Jobs service: Topic=$aws/things/ESP32_Iot_Test/jobs/notify-next[0m
[0;32mI (20577) coreMQTT: Disconnected from the broker.[0m
[0;32mI (20597) coreMQTT: Deleting Jobs Demo task.[0m
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
=== Reading NTC103 ===
Temp -273.1
